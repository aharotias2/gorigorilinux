# cp - ファイルをコピーする
`cp`コマンドはファイルやディレクトリをコピーして複製します。
## ファイルをコピーする
: cp file1 file2
上の例ではfile1と同じ内容のfile2が作成されます。
### ファイルの状態を保持する
`cp`コマンドでファイルのコピーをすると複製されたファイルの更新時刻は複製された時刻になります。
`-p`オプションを付けると複製元のファイルの更新時刻のまま複製できます。
: cp -p file1 file2
## ファイルをディレクトリにコピーする
: cp file1 file2 file3 file4 file5 file6 dir1
上の例では`file1`〜`file6`を`dir1`というディレクトリにコピーします。
## ディレクトリをディレクトリにコピー
ディレクトリをコピーする場合は`-r`オプションを付けます。
: cp -r dir1 dir2
上の例では、2通りの結末がありえます。
`dir2`が存在している場合`dir1`は`dir2`にコピーされて`dir2/dir1`が作成されます。
`dir2`が存在していない場合は`dir1`と同じ内容の`dir2`が作成されます。
## ファイルの上書き
既に`file2`がある状態で`file1`を`file2`にコピーすると、特に警告なく上書きされてしまいますので注意しましょう。

`-i`オプションを付けると上書きする前に確認することができます。
```ターミナル
プロンプト$ cp -i file3 dir1/file1 [Enter]
mv: 'dir1/file1' を上書きしますか? y [Enter]
```
質問に対しては`y`と入力すると「はい」、それ以外ですと「いいえ」という意味になります。
## ディレクトリの上書き
ディレクトリを上書きする場合、ディレクトリの内容が合成され、既存のものは上書きされます。
上書きされない既存のものが削除されることはありません。
: cp -r dir1 dir2
上の例で`dir2`の中に`dir1`があるとした場合、`dir1`の中のファイルが`dir2/dir1`の中に複製されます。

- dir1
  - file1
  - file2
  - file3
- dir2
  - dir1
    - file1
    - file4
    - file5

上のようなファイル構成である場合には例の`cp -r dir1 dir2`実行後は下のような構成になります。

* dir1
  * file1
  * file2
* dir2
  * dir1
    * file1 ← 上書きされる
    * file2 ← 複製される
    * file3 ← 複製される
    * file3 ← そのまま
    * file4 ← そのまま

## 良くない例
### 複数ファイルを一つのファイルに複製しようとする
```ターミナル
プロンプト$ cp file1 file2 file3
cp: 宛先の 'file3' はディレクトリではありません
```
上の例では`file1`と`file2`をファイルである`file3`にコピーしようとしているため、エラーとなります。
`file3`がディレクトリだった場合は問題ありません。
